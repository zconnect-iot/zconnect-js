!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("immutable"),require("reselect"),require("xdate"),require("redux-saga")):"function"==typeof define&&define.amd?define("zc-core",["immutable","reselect","xdate","redux-saga"],t):"object"==typeof exports?exports["zc-core"]=t(require("immutable"),require("reselect"),require("xdate"),require("redux-saga")):e["zc-core"]=t(e.immutable,e.reselect,e.xdate,e["redux-saga"])}(this,function(e,t,r,n){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=19)}([function(e,t,r){"use strict";(function(e){function n(e,t,r){if(!t(e))throw c("error","uncaught at check",r),new Error(r)}function o(e,t){return _.notUndef(e)&&b.call(e,t)}function u(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=void 0,n=new Promise(function(n){r=setTimeout(function(){return n(t)},e)});return n[h]=function(){return clearTimeout(r)},n}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3],o={name:r,next:e,throw:t,return:w};return n&&(o[d]=!0),"undefined"!=typeof Symbol&&(o[Symbol.iterator]=function(){return o}),o}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"undefined"==typeof window?console.log("redux-saga "+e+": "+t+"\n"+(r&&r.stack||r)):console[e](t,r)}function s(t,r){return function(){return"development"===e.env.NODE_ENV&&c("warn",r),t.apply(void 0,arguments)}}r.d(t,"o",function(){return l}),r.d(t,"a",function(){return S}),r.d(t,"b",function(){return v}),r.d(t,"c",function(){return g}),r.d(t,"k",function(){return m}),r.d(t,"m",function(){return y}),r.d(t,"h",function(){return R}),t.d=n,r.d(t,"j",function(){return _}),t.n=u,t.f=a,t.l=i,t.g=s,r.d(t,"p",function(){return O}),r.d(t,"i",function(){return x}),r.d(t,"e",function(){return P});var f=(Object.assign,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),l=function(e){return"@@redux-saga/"+e},p=l("TASK"),d=l("HELPER"),S=l("MATCH"),h=l("CANCEL_PROMISE"),v=l("SAGA_ACTION"),g=l("SELF_CANCELLATION"),E=function(e){return function(){return e}},m=E(!0),y=(E(!1),function(){}),R=function(e){return e},b=Object.prototype.hasOwnProperty,_={undef:function(e){return null===e||void 0===e},notUndef:function(e){return null!==e&&void 0!==e},func:function(e){return"function"==typeof e},number:function(e){return"number"==typeof e},string:function(e){return"string"==typeof e},array:Array.isArray,object:function(e){return e&&!_.array(e)&&"object"===(void 0===e?"undefined":f(e))},promise:function(e){return e&&_.func(e.then)},iterator:function(e){return e&&_.func(e.next)&&_.func(e.throw)},iterable:function(e){return e&&_.func(Symbol)?_.func(e[Symbol.iterator]):_.array(e)},task:function(e){return e&&e[p]},observable:function(e){return e&&_.func(e.subscribe)},buffer:function(e){return e&&_.func(e.isEmpty)&&_.func(e.take)&&_.func(e.put)},pattern:function(e){return e&&(_.string(e)||"symbol"===(void 0===e?"undefined":f(e))||_.func(e)||_.array(e))},channel:function(e){return e&&_.func(e.take)&&_.func(e.close)},helper:function(e){return e&&e[d]},stringableFunc:function(e){return _.func(e)&&o(e,"toString")}},T=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}(),function(e){throw e}),w=function(e){return{value:e,done:!0}},O=function(e,t){return e+" has been deprecated in favor of "+t+", please update your code"},x=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},P=function(e,t){return(e?e+".":"")+"setContext(props): argument "+t+" is not a plain object"}}).call(t,r(14))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REQUEST="app/api/REQUEST",t.REQUEST_FETCHING="app/api/REQUEST_FETCHING",t.REQUEST_FAILED="app/api/REQUEST_FAILED",t.REQUEST_FETCHED="app/api/REQUEST_FETCHED",t.REQUEST_CACHE_USED="app/api/REQUEST_CACHE_USED",t.POLL_REQUEST="app/api/POLL_REQUEST",t.STOP_POLL_REQUEST="app/api/STOP_POLL_REQUEST",t.FETCH_TIMEOUT=1e4},function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";if(arguments.length&&T.d(arguments[0],T.j.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),T.j.pattern(e))return Q(x,{pattern:e});if(T.j.channel(e))return Q(x,{channel:e});throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern")}function o(e,t){return arguments.length>1?(T.d(e,T.j.notUndef,"put(channel, action): argument channel is undefined"),T.d(e,T.j.channel,"put(channel, action): argument "+e+" is not a valid channel"),T.d(t,T.j.notUndef,"put(channel, action): argument action is undefined")):(T.d(e,T.j.notUndef,"put(action): argument action is undefined"),t=e,e=null),Q(P,{channel:e,action:t})}function u(e){return Q(I,e)}function a(e){return Q(U,e)}function i(e,t,r){T.d(t,T.j.notUndef,e+": argument fn is undefined");var n=null;if(T.j.array(t)){var o=t;n=o[0],t=o[1]}else if(t.fn){var u=t;n=u.context,t=u.fn}return n&&T.j.string(t)&&T.j.func(n[t])&&(t=n[t]),T.d(t,T.j.func,e+": argument "+t+" is not a function"),{context:n,fn:t,args:r}}function c(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Q(A,i("call",e,r))}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Q(A,i("apply",{context:e,fn:t},r))}function f(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Q(j,i("cps",e,r))}function l(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Q(k,i("fork",e,r))}function p(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=l.apply(void 0,[e].concat(r));return o[k].detached=!0,o}function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1)return u(t.map(function(e){return d(e)}));var n=t[0];return T.d(n,T.j.notUndef,"join(task): argument task is undefined"),T.d(n,T.j.task,"join(task): argument "+n+" is not a valid Task object "+M),Q(C,n)}function S(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1)return u(t.map(function(e){return S(e)}));var n=t[0];return 1===t.length&&(T.d(n,T.j.notUndef,"cancel(task): argument task is undefined"),T.d(n,T.j.task,"cancel(task): argument "+n+" is not a valid Task object "+M)),Q(L,n||T.c)}function h(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return 0===arguments.length?e=T.h:(T.d(e,T.j.notUndef,"select(selector,[...]): argument selector is undefined"),T.d(e,T.j.func,"select(selector,[...]): argument "+e+" is not a function")),Q(q,{selector:e,args:r})}function v(e,t){return T.d(e,T.j.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&(T.d(t,T.j.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),T.d(t,T.j.buffer,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),Q(J,{pattern:e,buffer:t})}function g(){return Q(N,{})}function E(e){return T.d(e,T.j.channel,"flush(channel): argument "+e+" is not valid channel"),Q(F,e)}function m(e){return T.d(e,T.j.string,"getContext(prop): argument "+e+" is not a string"),Q(G,e)}function y(e){return T.d(e,T.j.object,T.e(null,e)),Q(D,e)}function R(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return l.apply(void 0,[w.a,e,t].concat(n))}function b(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return l.apply(void 0,[w.b,e,t].concat(n))}function _(e,t,r){for(var n=arguments.length,o=Array(n>3?n-3:0),u=3;u<n;u++)o[u-3]=arguments[u];return l.apply(void 0,[w.c,e,t,r].concat(o))}t.q=n,r.d(t,"t",function(){return H}),t.l=o,t.b=u,t.m=a,t.d=c,t.c=s,t.g=f,t.i=l,t.p=p,t.k=d,t.e=S,t.n=h,t.a=v,t.f=g,t.h=E,t.j=m,t.o=y,t.r=R,t.s=b,t.u=_;var T=r(0),w=r(22),O=T.o("IO"),x="TAKE",P="PUT",I="ALL",U="RACE",A="CALL",j="CPS",k="FORK",C="JOIN",L="CANCEL",q="SELECT",J="ACTION_CHANNEL",N="CANCELLED",F="FLUSH",G="GET_CONTEXT",D="SET_CONTEXT",M="\n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)",Q=function(e,t){var r;return r={},r[O]=!0,r[e]=t,r};n.maybe=function(){var e=n.apply(void 0,arguments);return e[x].maybe=!0,e};var H=T.g(n.maybe,T.p("takem","take.maybe"));o.resolve=function(){var e=o.apply(void 0,arguments);return e[P].resolve=!0,e},o.sync=T.g(o.resolve,T.p("put.sync","put.resolve"));var W=function(e){return function(t){return t&&t[O]&&t[e]}};W(x),W(P),W(I),W(U),W(A),W(j),W(k),W(C),W(L),W(q),W(J),W(N),W(F),W(G),W(D)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOGIN_REQUEST="app/auth/LOGIN_REQUEST",t.LOGIN_FAILURE="app/auth/LOGIN_FAILURE",t.LOGOUT="app/auth/LOGOUT",t.LOGIN_USER="app/auth/LOGIN_USER",t.SET_USER_GROUPS="app/auth/SET_USER_GROUPS",t.REGISTER_USER="app/auth/REGISTER_USER",t.REGISTER_USER_SUCCESS="app/auth/REGISTER_USER_SUCCESS",t.REGISTER_USER_ERROR="app/auth/REGISTER_USER_ERROR",t.RESET_PASSWORD="app/auth/RESET_PASSWORD",t.RESET_PASSWORD_SUCCESS="app/auth/RESET_PASSWORD_SUCCESS",t.RESET_PASSWORD_CLOSE="app/auth/RESET_PASSWORD_CLOSE",t.RESET_PASSWORD_ERROR="app/auth/RESET_PASSWORD_ERROR",t.REFRESH_JWT="app/auth/REFRESH_JWT",t.RESET_AUTH_API="app/auth/RESET_AUTH_API"},function(t,r){t.exports=e},function(e,t,r){"use strict";function n(e){return u.j.channel(e)?"channel":Array.isArray(e)?String(e.map(function(e){return String(e)})):String(e)}function o(e,t){function r(t,r){if(c===i)return a;if(r)throw c=i,r;o&&o(t);var n=e[c](),u=n[0],s=n[1],f=n[2];return c=u,o=f,c===i?a:s}var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"iterator",o=void 0,c=t;return u.l(r,function(e){return r(null,e)},n,!0)}r.d(t,"b",function(){return i}),t.c=n,t.a=o;var u=r(0),a={done:!0,value:void 0},i={}},function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return n});var n=(r(0),r(15),r(24),Object.assign,{type:"@@redux-saga/CHANNEL_END"}),o="Saga was provided with an undefined action";"production"!==e.env.NODE_ENV&&(o+="\nHints:\n    - check that your Action Creator returns a non-undefined value\n    - if the Saga was started using runSaga, check that your subscribe source provides the action to its listeners\n  ")}).call(t,r(14))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetPasswordError=t.resetPasswordClose=t.resetPasswordSuccess=t.resetPassword=t.registerUserError=t.registerUserSuccess=t.registerUser=t.setUserGroups=t.loginFailure=t.resetAuthApi=t.logout=t.loginUserState=t.requestLogin=void 0;var n=r(3);t.requestLogin=function(e,t){return{type:n.LOGIN_REQUEST,email:e,password:t}},t.loginUserState=function(e,t){return{type:n.LOGIN_USER,userId:e,email:t}},t.logout=function(){return{type:n.LOGOUT}},t.resetAuthApi=function(){return{type:n.RESET_AUTH_API}},t.loginFailure=function(e){return{type:n.LOGIN_FAILURE,error:e}},t.setUserGroups=function(e){return{type:n.SET_USER_GROUPS,groups:e.map(function(e){return e.toLowerCase()})}},t.registerUser=function(e){return{type:n.REGISTER_USER,payload:e}},t.registerUserSuccess=function(){return{type:n.REGISTER_USER_SUCCESS}},t.registerUserError=function(e){return{type:n.REGISTER_USER_ERROR,error:e}},t.resetPassword=function(e){return{type:n.RESET_PASSWORD,payload:e}},t.resetPasswordSuccess=function(){return{type:n.RESET_PASSWORD_SUCCESS}},t.resetPasswordClose=function(){return{type:n.RESET_PASSWORD_CLOSE}},t.resetPasswordError=function(e){return{type:n.RESET_PASSWORD_ERROR,error:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stopPollApiRequest=t.pollApiRequest=t.requestCacheUsed=t.apiRequest=t.requestFailed=t.requestFetched=t.requestFetching=void 0;var n=r(1);t.requestFetching=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:n.REQUEST_FETCHING,meta:{endpoint:e,params:t}}},t.requestFetched=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return{type:n.REQUEST_FETCHED,meta:{endpoint:e,params:t},payload:r}},t.requestFailed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return{type:n.REQUEST_FAILED,meta:{endpoint:e,params:t},payload:r,error:!0}},t.apiRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:n.REQUEST,meta:{endpoint:e,params:t},payload:r}},t.requestCacheUsed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:n.REQUEST_CACHE_USED,meta:{endpoint:e,params:t}}},t.pollApiRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3];return{type:n.POLL_REQUEST,meta:{endpoint:e,params:t,interval:o},payload:r}},t.stopPollApiRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:n.STOP_POLL_REQUEST,meta:{endpoint:e,params:t}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectRequestErrorStatus=t.selectRequestError=t.selectRequestResponse=t.selectRequestAPIState=t.selectTimeSinceLastFetch=t.selectTimeNow=t.selectLastFetchedTime=t.selectRequestPollingInterval=t.selectRequestPending=t.selectRequestFailed=t.selectRequestFetched=t.selectAPIDomain=void 0;var n=r(10),o=r(4),u=r(11),a=function(e){return e&&e.__esModule?e:{default:e}}(u),i=t.selectAPIDomain=function(e){return e.get("api")},c=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).endpoint},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.params;return void 0===r?{}:r},f=(0,n.createSelector)(c,s,function(e,t){return(0,o.fromJS)({endpoint:e,params:t})}),l=(0,n.createSelector)(i,f,function(e,t){return e.get(t,(0,o.Map)())}),p=t.selectRequestFetched=(0,n.createSelector)(l,function(e){return e.get("success")}),d=t.selectRequestFailed=(0,n.createSelector)(l,function(e){return e.get("error")}),S=t.selectRequestPending=(0,n.createSelector)(l,function(e){return e.get("fetching")}),h=(t.selectRequestPollingInterval=(0,n.createSelector)(l,function(e){return e.get("polling")}),t.selectLastFetchedTime=(0,n.createSelector)(l,function(e){return e.get("updated")})),v=t.selectTimeNow=function(){return new a.default},g=(t.selectTimeSinceLastFetch=(0,n.createSelector)(h,v,function(e,t){return e?new a.default(e).diffMilliseconds(t):null}),t.selectRequestAPIState=(0,n.createSelector)(d,p,S,function(e,t,r){return{failed:e,success:t,fetching:r}}),t.selectRequestResponse=(0,n.createSelector)(l,function(e){return e.get("response")}),t.selectRequestError=(0,n.createSelector)(l,function(e){return e.get("errorResponse",(0,o.Map)())}));t.selectRequestErrorStatus=(0,n.createSelector)(g,function(e){return e.getIn(["response","status"])})},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);r.d(t,"take",function(){return n.q}),r.d(t,"takem",function(){return n.t}),r.d(t,"put",function(){return n.l}),r.d(t,"all",function(){return n.b}),r.d(t,"race",function(){return n.m}),r.d(t,"call",function(){return n.d}),r.d(t,"apply",function(){return n.c}),r.d(t,"cps",function(){return n.g}),r.d(t,"fork",function(){return n.i}),r.d(t,"spawn",function(){return n.p}),r.d(t,"join",function(){return n.k}),r.d(t,"cancel",function(){return n.e}),r.d(t,"select",function(){return n.n}),r.d(t,"actionChannel",function(){return n.a}),r.d(t,"cancelled",function(){return n.f}),r.d(t,"flush",function(){return n.h}),r.d(t,"getContext",function(){return n.j}),r.d(t,"setContext",function(){return n.o}),r.d(t,"takeEvery",function(){return n.r}),r.d(t,"takeLatest",function(){return n.s}),r.d(t,"throttle",function(){return n.u})},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function u(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){h&&d&&(h=!1,d.length?S=d.concat(S):v=-1,S.length&&i())}function i(){if(!h){var e=o(a);h=!0;for(var t=S.length;t;){for(d=S,S=[];++v<t;)d&&d[v].run();v=-1,t=S.length}d=null,h=!1,u(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var f,l,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var d,S=[],h=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];S.push(new c(e,t)),1!==S.length||h||o(i)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.prependListener=s,p.prependOnceListener=s,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1],r=new Array(e),n=0,o=0,s=0,f=function(t){r[o]=t,o=(o+1)%e,n++},l=function(){if(0!=n){var t=r[s];return r[s]=null,n--,s=(s+1)%e,t}},p=function(){for(var e=[];n;)e.push(l());return e};return{isEmpty:function(){return 0==n},put:function(l){if(n<e)f(l);else{var d=void 0;switch(t){case a:throw new Error(u);case i:r[o]=l,o=(o+1)%e,s=o;break;case c:d=2*e,r=p(),n=r.length,o=r.length,s=0,r.length=d,e=d,f(l)}}},take:l,flush:p}}r.d(t,"a",function(){return f});var o=r(0),u="Channel's Buffer overflow!",a=1,i=3,c=4,s={isEmpty:o.k,put:o.m,take:o.m},f={none:function(){return s},fixed:function(e){return n(e,a)},dropping:function(e){return n(e,2)},sliding:function(e){return n(e,i)},expanding:function(e){return n(e,c)}}},function(e,t,r){"use strict";function n(e){var t=new Headers;return t.append("Accept","application/json"),t.append("Content-Type","application/json"),e&&t.append("Authorization","Bearer "+e),t}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments[4],c=""+e+t,s=n(u),f={method:r,headers:s,mode:"cors",cache:"default"};return"post"===r.toLowerCase()&&(f.body=JSON.stringify((0,i.serializeEJSON)(o))),fetch(c,f).then(function(e){if(e.json)return e.json().then(function(e){return(0,i.deserializeEJSON)(e)}).then(function(t){if(e.ok)return t;throw e.json=t,new a.APIError(e)});if(!e.ok)throw new a.APIError(e);return{}})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=e.replace(/\$\{([a-zA-Z0-9_]*)\}/g,function(e,n){if(!t[n])throw new Error("Required parameter, "+n+", has not been provided");return r[n]=!0,t[n]}),o=Object.entries(t).filter(function(e){return!r[e[0]]}).map(function(e){return e[0]+"="+e[1]}).join("&");return o?n+"?"+o:n}Object.defineProperty(t,"__esModule",{value:!0}),t.getHeaders=n,t.apifetch=o,t.formatUrl=u;var a=r(27),i=r(17)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){if(e)return e.toISOString().slice(0,10).replace(/-/g,"/")}function a(e){if(Array.isArray(e))return e.map(a);if("object"!==(void 0===e?"undefined":s(e)))return e;if(null===e)return e;var t=Object.keys(e);if(0===t.length)return e;var r=E[t[0]];return r?r(e):t.reduce(function(t,r){return t[r]=a(e[r]),t},{})}function i(e){if(e){if(Array.isArray(e))return e.map(i);if("object"!==(void 0===e?"undefined":s(e)))return e;if((0,p.default)(e.serializeToEJSON))return e.serializeToEJSON();for(var t in g)if(c(e)===t)return g[t](e);return Object.keys(e).reduce(function(t,r){return t[r]=i(e[r]),t},{})}return e}function c(e){var t=e.constructor.toString();return t.substring(9,t.indexOf("("))}Object.defineProperty(t,"__esModule",{value:!0}),t.UUID=t.ObjectId=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.displayDate=u,t.deserializeEJSON=a,t.serializeEJSON=i;var l=r(28),p=n(l),d=r(11),S=n(d),h=t.ObjectId=function(){function e(t){o(this,e),this.oid=t}return f(e,[{key:"toString",value:function(){return this.oid}},{key:"serializeToEJSON",value:function(){return{$oid:this.oid}}},{key:"is",value:function(e){return(void 0===e?"undefined":s(e))===s(this)&&this.oid===e.oid}}]),e}(),v=t.UUID=function(){function e(t){o(this,e),this.uuid=t}return f(e,[{key:"toString",value:function(){return this.uuid}},{key:"serializeToEJSON",value:function(){return{$uuid:this.uuid}}},{key:"is",value:function(e){return(void 0===e?"undefined":s(e))===s(this)&&this.uuid===e.uuid}}]),e}(),g={Date:function(e){return{$date:new S.default(e).setUTCMode(!0,!0).getTime()}},XDate:function(e){return{$date:e.clone().setUTCMode(!0,!0).getTime()}}},E={$oid:function(e){return new h(e.$oid)},$date:function(e){var t=new S.default;return isNaN(t.setTime(e.$date))&&(t=new S.default(e.$date)),t},$regex:function(e){return new RegExp(e.$regex,e.$options)},$undefined:function(){},$uuid:function(e){return new v(e.$uuid)}}},function(e,t,r){var n=r(30),o=n.Symbol;e.exports=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function u(e){t.authSagas=x=(0,w.default)(e),t.apiSagas=O=(0,h.default)(e,x.refreshJWT)}Object.defineProperty(t,"__esModule",{value:!0}),t.authSelectors=t.authConstants=t.authActions=t.authReducer=t.authSagas=t.apiSelectors=t.apiActions=t.apiReducer=t.apiConstants=t.apiSagas=void 0,t.configure=u;var a=r(8),i=o(a),c=r(1),s=o(c),f=r(9),l=o(f),p=r(20),d=n(p),S=r(21),h=n(S),v=r(7),g=o(v),E=r(3),m=o(E),y=r(36),R=o(y),b=r(37),_=n(b),T=r(39),w=n(T),O={},x={};t.apiSagas=O,t.apiConstants=s,t.apiReducer=d.default,t.apiActions=i,t.apiSelectors=l,t.authSagas=x,t.authReducer=_.default,t.authActions=g,t.authConstants=m,t.authSelectors=R},function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.fromJS)({}),t=arguments[1],r=(0,o.fromJS)(t.meta||{}).filter(function(e,t){return-1!==["endpoint","params"].indexOf(t)});switch(t.type){case u.REQUEST_FETCHING:return e.setIn([r,"fetching"],!0).setIn([r,"error"],!1).setIn([r,"success"],!1);case u.REQUEST_FETCHED:return e.setIn([r,"response"],(0,o.fromJS)(t.payload)).setIn([r,"fetching"],!1).setIn([r,"error"],!1).setIn([r,"success"],!0).setIn([r,"updated"],(new Date).toISOString());case u.REQUEST_FAILED:return e.setIn([r,"errorResponse"],(0,o.fromJS)(t.payload)).setIn([r,"fetching"],!1).setIn([r,"error"],!0).setIn([r,"success"],!1).setIn([r,"polling"],!1);case u.POLL_REQUEST:return e.setIn([r,"polling"],t.meta.interval);case u.STOP_POLL_REQUEST:return e.setIn([r,"polling"],!1);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=r(4),u=r(1)},function(e,t,r){"use strict";function n(e,t){function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.race)({response:a.call.apply(void 0,[f.apifetch,y].concat(t)),timeout:(0,a.call)(u.delay,c.FETCH_TIMEOUT)});case 2:if(n=e.sent,o=n.response,!(i=n.timeout)){e.next=7;break}throw new Error("API request timed out");case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}},b[0],this)}function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.call)(m.get);case 2:return o=e.sent,e.next=5,a.call.apply(void 0,[r].concat(t,[o.password]));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},b[1],this)}function p(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var u,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u="",e.prev=1,e.next=4,(0,a.call)(m.get);case 4:return u=e.sent,e.next=7,a.call.apply(void 0,[n].concat(r));case 7:return e.abrupt("return",e.sent);case 10:if(e.prev=10,e.t0=e.catch(1),i=e.t0.response&&e.t0.response.status,u&&401!==i&&403!==i){e.next=27;break}return e.prev=14,e.next=17,(0,a.call)(t);case 17:return e.next=19,a.call.apply(void 0,[n].concat(r));case 19:return e.abrupt("return",e.sent);case 22:return e.prev=22,e.t1=e.catch(14),E.captureMessage("Could not perform request after re-fetching JWT"),e.next=27,(0,a.put)((0,l.logout)());case 27:throw e.t0;case 28:case"end":return e.stop()}},b[2],this,[[1,10],[14,22]])}function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.call.apply(void 0,[r].concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},b[3],this)}function S(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:e=Object.entries(n).filter(function(e){return"function"==typeof e[1]}),t=o({},n),r=0;case 3:if(!(r<e.length)){u.next=10;break}return u.next=6,(0,a.select)(e[r][1]);case 6:t[e[r][0]]=u.sent;case 7:r+=1,u.next=3;break;case 10:return u.abrupt("return",t);case 11:case"end":return u.stop()}},b[4],this)}function h(e){var t,r,n,o,u,l,h,v,g,E;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return t=e.meta,r=e.payload,n=void 0===r?{}:r,o=e.type,u=t.endpoint,l=R[u],m.next=5,(0,a.call)(S,t.params);case 5:if(h=m.sent,!l.cache){m.next=16;break}return m.next=9,(0,a.select)(s.selectTimeSinceLastFetch,{endpoint:u,params:h});case 9:if(!((v=m.sent)&&v<l.cache)){m.next=16;break}return m.next=13,(0,a.put)((0,i.requestCacheUsed)(u,h));case 13:return m.next=15,(0,a.select)(s.selectRequestResponse,{endpoint:u,params:h});case 15:return m.abrupt("return",m.sent);case 16:return m.next=18,(0,a.call)(f.formatUrl,l.url,h);case 18:return g=m.sent,m.next=21,(0,a.put)((0,i.requestFetching)(u,h));case 21:return m.prev=21,m.next=24,(0,a.call)(l.token?p:d,g,l.method,n);case 24:return E=m.sent,m.next=27,(0,a.put)((0,i.requestFetched)(u,h,E));case 27:return m.abrupt("return",E);case 30:return m.prev=30,m.t0=m.catch(21),m.next=34,(0,a.put)((0,i.requestFailed)(u,h,m.t0));case 34:if(o&&o!==c.POLL_REQUEST){m.next=36;break}throw m.t0;case 36:case"end":return m.stop()}},b[5],this,[[21,30]])}function v(e){var t,r,n,o;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:t=e.meta,r=t.endpoint,n=t.params,o=e.meta.interval;case 2:if(!o){c.next=21;break}return c.prev=3,c.next=6,(0,a.call)(h,e);case 6:return c.next=8,(0,a.call)(u.delay,o);case 8:return c.next=10,(0,a.select)(s.selectRequestPollingInterval,{endpoint:r,params:n});case 10:o=c.sent,c.next=19;break;case 13:return c.prev=13,c.t0=c.catch(3),c.next=17,(0,a.put)((0,i.stopPollApiRequest)(r,n));case 17:o=!1,E.captureMessage("Polling endpoint, "+e.meta.endpoint+", returned an error. Polling will be stopped.");case 19:c.next=2;break;case 21:case"end":return c.stop()}},b[6],this,[[3,13]])}function g(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,u.takeEvery)(c.POLL_REQUEST,v),(0,u.takeEvery)(c.REQUEST,h)];case 2:case"end":return e.stop()}},b[7],this)}var E=e.Sentry,m=e.jwtStore,y=e.baseURL,R=e.endpoints,b=[r,n,p,d,S,h,v,g].map(regeneratorRuntime.mark);return{secureApiSaga:p,fetchSaga:r,secureFetch:n,insecureFetch:d,processParams:S,apiRequest:h,apiPoll:v,watcher:g}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=n;var u=r(12),a=r(13),i=r(8),c=r(1),s=r(9),f=r(16),l=r(7)},function(e,t,r){"use strict";var n=r(23),o=r(25),u=r(26),a=r(0);r.d(t,"a",function(){return n.a}),r.d(t,"b",function(){return o.a}),r.d(t,"c",function(){return u.a});var i=function(e){return"import { "+e+" } from 'redux-saga' has been deprecated in favor of import { "+e+" } from 'redux-saga/effects'.\nThe latter will not work with yield*, as helper effects are wrapped automatically for you in fork effect.\nTherefore yield "+e+" will return task descriptor to your saga and execute next lines of code."};n.a,o.a,u.a},function(e,t,r){"use strict";function n(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var c={done:!1,value:u.q(e)},s=function(e){return{done:!1,value:u.i.apply(void 0,[t].concat(n,[e]))}},f=void 0,l=function(e){return f=e};return o.a({q1:function(){return["q2",c,l]},q2:function(){return f===a.a?[o.b]:["q1",s(f)]}},"q1","takeEvery("+o.c(e)+", "+t.name+")")}t.a=n;var o=r(5),u=r(2),a=r(6)},function(e,t,r){"use strict";function n(e){try{u(),e()}finally{a()}}function o(e){c.push(e),s||(u(),i())}function u(){s++}function a(){s--}function i(){a();for(var e=void 0;!s&&void 0!==(e=c.shift());)n(e)}t.a=o;var c=[],s=0},function(e,t,r){"use strict";function n(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var c={done:!1,value:u.q(e)},s=function(e){return{done:!1,value:u.i.apply(void 0,[t].concat(n,[e]))}},f=function(e){return{done:!1,value:u.e(e)}},l=void 0,p=void 0,d=function(e){return l=e},S=function(e){return p=e};return o.a({q1:function(){return["q2",c,S]},q2:function(){return p===a.a?[o.b]:l?["q3",f(l)]:["q1",s(p),d]},q3:function(){return["q1",s(p),d]}},"q1","takeLatest("+o.c(e)+", "+t.name+")")}t.a=n;var o=r(5),u=r(2),a=r(6)},function(e,t,r){"use strict";function n(e,t,r){for(var n=arguments.length,s=Array(n>3?n-3:0),f=3;f<n;f++)s[f-3]=arguments[f];var l=void 0,p=void 0,d={done:!1,value:u.a(t,i.a.sliding(1))},S=function(){return{done:!1,value:u.q(p)}},h=function(e){return{done:!1,value:u.i.apply(void 0,[r].concat(s,[e]))}},v={done:!1,value:u.d(c.f,e)},g=function(e){return l=e},E=function(e){return p=e};return o.a({q1:function(){return["q2",d,E]},q2:function(){return["q3",S(),g]},q3:function(){return l===a.a?[o.b]:["q4",h(l)]},q4:function(){return["q2",v]}},"q1","throttle("+o.c(t)+", "+r.name+")")}t.a=n;var o=r(5),u=r(2),a=r(6),i=r(15),c=r(0)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});t.APIError=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Request to "+e.url+" returned "+e.status+"."));return r.response=e,r.name="APIError",r}return u(t,e),t}(Error)},function(e,t,r){function n(e){if(!u(e))return!1;var t=o(e);return t==i||t==c||t==a||t==s}var o=r(29),u=r(35),a="[object AsyncFunction]",i="[object Function]",c="[object GeneratorFunction]",s="[object Proxy]";e.exports=n},function(e,t,r){function n(e){return null==e?void 0===e?c:i:s&&s in Object(e)?u(e):a(e)}var o=r(18),u=r(33),a=r(34),i="[object Null]",c="[object Undefined]",s=o?o.toStringTag:void 0;e.exports=n},function(e,t,r){var n=r(31),o="object"==typeof self&&self&&self.Object===Object&&self,u=n||o||Function("return this")();e.exports=u},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(32))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){function n(e){var t=a.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=i.call(e);return n&&(t?e[c]=r:delete e[c]),o}var o=r(18),u=Object.prototype,a=u.hasOwnProperty,i=u.toString,c=o?o.toStringTag:void 0;e.exports=n},function(e,t){function r(e){return o.call(e)}var n=Object.prototype,o=n.toString;e.exports=r},function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectUserSettings=t.selectUserLoggedIn=t.selectErrorDetails=t.selectErrorStatus=t.selectErrorJsonDescription=t.selectErrorJsonTitle=t.selectError=t.selectResetPasswordAPIState=t.selectRegistrationAPIState=t.selectAuthAPIState=t.selectUserIsPremium=t.selectUserGroups=t.selectEmail=t.selectUserId=t.selectAuthDomain=void 0;var n=r(10),o=t.selectAuthDomain=function(e){return e.get("auth")},u=(t.selectUserId=function(e){return e.getIn(["auth","userId"])},t.selectEmail=function(e){return e.getIn(["auth","email"])},t.selectUserGroups=function(e){return e.getIn(["auth","groups"]).toJS()}),a=(t.selectUserIsPremium=(0,n.createSelector)(u,function(e){return!!e&&e.indexOf("premium_user")>-1}),t.selectAuthAPIState=(0,n.createSelector)(o,function(e){return e.get("authAPIState").toJS()}),t.selectRegistrationAPIState=(0,n.createSelector)(o,function(e){return e.get("registrationAPIState").toJS()}),t.selectResetPasswordAPIState=(0,n.createSelector)(o,function(e){return e.get("resetPasswordAPIState").toJS()}),t.selectError=(0,n.createSelector)(o,function(e){return e.get("error")})),i=t.selectErrorJsonTitle=(0,n.createSelector)(a,function(e){return e.getIn(["response","json","title"])}),c=t.selectErrorJsonDescription=(0,n.createSelector)(a,function(e){return e.getIn(["response","json","description"])}),s=t.selectErrorStatus=(0,n.createSelector)(a,function(e){return e.getIn(["response","status"])});t.selectErrorDetails=(0,n.createSelector)(s,i,c,function(e,t,r){return!e||404!==e&&403!==e?r&&"User has not confirmed their email"===r?"LoginForm.emailconfirm":"Error.tryagain":"LoginForm.invalid"}),t.selectUserLoggedIn=(0,n.createSelector)(o,function(e){return!!e.get("userId")}),t.selectUserSettings=(0,n.createSelector)(o,function(e){return e.getIn(["user","user_settings"])?e.getIn(["user","user_settings"]).toJS():{}})},function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case u.LOGIN_REQUEST:return e.set("authAPIState",(0,o.fromJS)(i.fetching)).set("resetPasswordAPIState",(0,o.fromJS)(i.initial));case u.LOGIN_USER:return e.set("authAPIState",(0,o.fromJS)(i.success)).set("authenticated",!0).set("userId",t.userId).set("email",t.email);case u.LOGOUT:return e.set("authAPIState",(0,o.fromJS)(i.initial)).set("registrationAPIState",(0,o.fromJS)(i.initial)).set("authenticated",!1).set("userId",null).set("groups",(0,o.fromJS)([]));case u.RESET_AUTH_API:return e.set("authAPIState",(0,o.fromJS)(i.initial)).set("registrationAPIState",(0,o.fromJS)(i.initial)).set("resetPasswordAPIState",(0,o.fromJS)(i.initial)).set("authenticated",!1).set("userId",null).set("groups",(0,o.fromJS)([]));case u.LOGIN_FAILURE:return e.set("authAPIState",(0,o.fromJS)(i.error)).set("error",(0,o.fromJS)((0,a.transformError)(t.error)));case u.SET_USER_GROUPS:return e.set("groups",(0,o.fromJS)(t.groups));case u.REGISTER_USER:return e.set("registrationAPIState",(0,o.fromJS)(i.fetching));case u.REGISTER_USER_SUCCESS:return e.set("registrationAPIState",(0,o.fromJS)(i.success));case u.REGISTER_USER_ERROR:return e.set("registrationAPIState",(0,o.fromJS)(i.error)).set("error",(0,o.fromJS)((0,a.transformError)(t.error)));case u.RESET_PASSWORD:return e.set("resetPasswordAPIState",(0,o.fromJS)(i.fetching));case u.RESET_PASSWORD_SUCCESS:return e.set("resetPasswordAPIState",(0,o.fromJS)(i.success));case u.RESET_PASSWORD_CLOSE:return e.set("resetPasswordAPIState",(0,o.fromJS)(i.initial));case u.RESET_PASSWORD_ERROR:return e.set("resetPasswordAPIState",(0,o.fromJS)(i.error)).set("error",(0,o.fromJS)((0,a.transformError)(t.error)));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var o=r(4),u=r(3),a=r(38),i={initial:{fetching:!1,error:!1,success:!1,status:"initial"},fetching:{fetching:!0,error:!1,success:!1,status:"fetching"},error:{fetching:!1,error:!0,success:!1,status:"error"},success:{fetching:!1,error:!1,success:!0,status:"success"}},c=t.initialState={authAPIState:(0,o.fromJS)(i.initial),registrationAPIState:(0,o.fromJS)(i.initial),resetPasswordAPIState:(0,o.fromJS)(i.initial),userInviteAPIState:(0,o.fromJS)(i.initial),authenticated:!1,userId:null,email:null,groups:[],user:{},error:{}},s=(0,o.fromJS)(c);t.default=n},function(e,t,r){"use strict";function n(e){return JSON.parse(JSON.stringify(e))}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_",n={};return function e(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;Object.entries(o).forEach(function(t){var o=""+a+r+t[0];if("object"!==u(t[1]))return void(n[o]=t[1]);e(t[1],o)})}(e),n}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.transformError=n,t.flattenObject=o},function(e,t,r){"use strict";function n(e){function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.call)(v.delete);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),h.captureException(e.t0);case 8:h.setUserContext({email:"",userID:"",username:"",extra:{}});case 9:case"end":return e.stop()}},S[0],this,[[0,5]])}function r(){var e,t,r,n,a,f,p,d,m;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return e="api/v1/users/refresh_token",S.prev=1,S.next=4,(0,o.call)(v.get);case 4:return t=S.sent,S.next=7,(0,o.race)({response:(0,o.call)(c.apifetch,g,e,"GET",{},t.password),timeout:(0,o.call)(u.delay,E)});case 7:if(r=S.sent,n=r.response,!(a=r.timeout)){S.next=12;break}throw new Error("timeout");case 12:return f=t.username,S.next=15,(0,o.call)(v.set,f,n.token);case 15:return p=(0,s.deserializeEJSON)((0,i.default)(n.token)),d=p.aud,m=p.oid.oid,h.setUserContext({email:f,userID:m,username:"",extra:{}}),S.next=21,(0,o.put)(l.setUserGroups(d));case 21:S.next=27;break;case 23:return S.prev=23,S.t0=S.catch(1),S.next=27,(0,o.call)(h.captureException,S.t0);case 27:case"end":return S.stop()}},S[1],this,[[1,23]])}function n(e){var t,r,n,a,f,p,d,m,y,R,b;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return t="api/v1/users/login",r="POST",n=(e.email||"").toLowerCase(),a=e.password||"",f={email:n,password:a},S.prev=5,S.next=8,(0,o.race)({response:(0,o.call)(c.apifetch,g,t,r,f),timeout:(0,o.call)(u.delay,E)});case 8:if(p=S.sent,d=p.response,!(m=p.timeout)){S.next=13;break}throw new Error("timeout");case 13:return S.next=15,(0,o.call)(v.set,e.email,d.token);case 15:return y=(0,s.deserializeEJSON)((0,i.default)(d.token)),R=y.oid.oid,h.setUserContext({email:n,userID:R,username:"",extra:{}}),b=y.aud,S.next=21,(0,o.put)(l.setUserGroups(b));case 21:return S.next=23,(0,o.put)(l.loginUserState(R,n));case 23:S.next=30;break;case 25:return S.prev=25,S.t0=S.catch(5),h.captureException(S.t0),S.next=30,(0,o.put)(l.loginFailure(S.t0));case 30:case"end":return S.stop()}},S[2],this,[[5,25]])}function a(e){var t,r,n,u,a,i,s,f;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,t="api/v1/users/signup",r="POST",n=(e.payload.email||"").toLowerCase(),u=e.payload.password||"",a=e.payload.fname||"",i=e.payload.lname||"",s=e.payload.user_type||"home",f={fname:a,lname:i,email:n,password:u,user_type:s},p.next=11,(0,c.apifetch)(g,t,r,f);case 11:return p.next=13,(0,o.put)(l.registerUserSuccess());case 13:p.next=20;break;case 15:return p.prev=15,p.t0=p.catch(0),h.captureException(p.t0),p.next=20,(0,o.put)(l.registerUserError(p.t0));case 20:case"end":return p.stop()}},S[3],this,[[0,15]])}function f(e){var t,r,n,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t="api/v1/users/reset_password",r="POST",n=(e.payload.email||"").toLowerCase(),u={email:n},a.next=7,(0,c.apifetch)(t,r,u);case 7:return a.next=9,(0,o.put)(l.resetPasswordSuccess());case 9:a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(0),h.captureException(a.t0),a.next=16,(0,o.put)(l.resetPasswordError(a.t0));case 16:case"end":return a.stop()}},S[4],this,[[0,11]])}function d(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,u.takeLatest)(p.LOGIN_REQUEST,n),(0,u.takeLatest)(p.LOGOUT,t),(0,u.takeLatest)(p.RESET_PASSWORD,f),(0,u.takeLatest)(p.REFRESH_JWT,r),(0,u.takeLatest)(p.REGISTER_USER,a)];case 2:case"end":return e.stop()}},S[5],this)}var S=[t,r,n,a,f,d].map(regeneratorRuntime.mark),h=e.Sentry,v=e.jwtStore,g=e.baseURL,E=e.loginTimeout;return{logoutSaga:t,loginSaga:n,registerUserSaga:a,resetPasswordSaga:f,refreshJWT:r,watcher:d}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=r(13),u=r(12),a=r(40),i=function(e){return e&&e.__esModule?e:{default:e}}(a),c=r(16),s=r(17),f=r(7),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(f),p=r(3)},function(e,t,r){"use strict";function n(e){this.message=e}var o=r(41);n.prototype=new Error,n.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new n("Invalid token specified");t=t||{};var r=!0===t.header?0:1;try{return JSON.parse(o(e.split(".")[r]))}catch(e){throw new n("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=n},function(e,t,r){function n(e){return decodeURIComponent(o(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}var o=r(42);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return n(t)}catch(e){return o(t)}}},function(e,t){function r(e){this.message=e}function n(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,u,a=0,i=0,c="";u=t.charAt(i++);~u&&(n=a%4?64*n+u:u,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)u=o.indexOf(u);return c}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||n}])});